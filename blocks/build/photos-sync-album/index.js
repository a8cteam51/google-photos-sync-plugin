(()=>{"use strict";var e,o={54:(e,o,t)=>{const r=window.wp.blocks,n=window.React,l=window.wp.i18n,a=window.wp.apiFetch;var c=t.n(a);const s=window.wp.components,i=window.wp.blockEditor,p=window.wp.serverSideRender;var u=t.n(p);const d=window.wp.data,m=window.wp.notices,g=()=>{const{createErrorNotice:e,createInfoNotice:o}=(0,d.useDispatch)(m.store);return(0,n.createElement)(s.FormFileUpload,{accept:"image/*",onChange:t=>b(t.currentTarget.files,{createErrorNotice:e,createInfoNotice:o}),multiple:!0,className:"components-clipboard-toolbar-button"},(0,l.__)("Upload","google-photos-sync"))},w=()=>(0,n.createElement)(i.BlockControls,null,(0,n.createElement)(s.ToolbarGroup,null,(0,n.createElement)(s.Toolbar,null,(0,n.createElement)(g,null)))),b=(e,o)=>{const{createErrorNotice:t,createInfoNotice:r}=o,n=new FormData;for(const o of e)n.append("file[]",o);c()({path:"/google-photos-sync/v1/upload",method:"POST",body:n}).then((()=>{r((0,l.__)("Image successfuly uploaded!"),{type:"snackbar",explicitDismiss:!0})})).catch((e=>{t((0,l.__)("Error uploading image: ")+e,{type:"snackbar",isDismissible:!0})}))},h=JSON.parse('{"UU":"google-photos-sync/album"}');(0,r.registerBlockType)(h.UU,{edit:function({attributes:e,setAttributes:o}){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(s.PanelBody,{title:(0,l.__)("Settings","google-photos-sync")},(0,n.createElement)(s.RangeControl,{label:(0,l.__)("Columns","google-photos-sync"),value:e.columns,onChange:e=>o({columns:e}),min:1,max:6}))),(0,n.createElement)("div",{...(0,i.useBlockProps)()},(0,n.createElement)(w,null),(0,n.createElement)(u(),{block:"google-photos-sync/album",attributes:e})))}})}},t={};function r(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return o[e](l,l.exports,r),l.exports}r.m=o,e=[],r.O=(o,t,n,l)=>{if(!t){var a=1/0;for(p=0;p<e.length;p++){for(var[t,n,l]=e[p],c=!0,s=0;s<t.length;s++)(!1&l||a>=l)&&Object.keys(r.O).every((e=>r.O[e](t[s])))?t.splice(s--,1):(c=!1,l<a&&(a=l));if(c){e.splice(p--,1);var i=n();void 0!==i&&(o=i)}}return o}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[t,n,l]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={363:0,744:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var n,l,[a,c,s]=t,i=0;if(a.some((o=>0!==e[o]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(s)var p=s(r)}for(o&&o(t);i<a.length;i++)l=a[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(p)},t=globalThis.webpackChunkgoogle_photos_sync=globalThis.webpackChunkgoogle_photos_sync||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var n=r.O(void 0,[744],(()=>r(54)));n=r.O(n)})();